<div style="margin-top: 20px;">
  <div>
    <div *ngIf="isDifferentDate(creationDate, index, type)">
      <div class="dateDiv" *ngIf="
          fireService.dateNameChecker(creationDay, creationDate) === 'heute'
        "></div>
      <div class="dateContent">
        {{ fireService.dateNameChecker(creationDay, creationDate) }}
      </div>
    </div>

    <div class="messagesSection" [ngClass]="{ 'odd-message': !getSide(index) }">
      <app-reactions (openEditMessageDivEvent)="openEditMessageDiv($event)" [index]="index"
        [currentMessage]="currentMessage" [type]="type" [conversation]="conversation"
        [collectionId]="collectionId"></app-reactions>
      <div class="messagesInfo" [ngClass]="{ 'odd-message': getSide(index) }">
        <img class="messageUsersImg" src="{{ profileImg }}" />
        <div class="nameContentDiv">
          <div *ngIf="editMessage" class="editMessageWrapper"
            [ngStyle]="!getSide(index) ? { left: '0' } : { right: '0' }">
            <div class="editMessageDiv">
              <input [(ngModel)]="content" (ngModelChange)="getNewContent($event)" />

              <div class="editButtons">
                <div class="emojiDiv">
                  <img (click)="openEmojiOnEdit()" class="messageIcon" src="assets/img/sentiment_satisfied.svg">
                  <emoji-mart *ngIf="emojiOpenedOnEdit" (emojiClick)="addEmojiOnEdit($event)" (tooltip)=false
                    [style]="getEmojiPickerStyle()">
                  </emoji-mart>
                </div>
                <div>
                  <button (click)="closeEdit()" class="cancelButton">
                    Abbrechen
                  </button>
                  <button (click)="updateMessageContent()" class="createButton">
                    Speichern
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div>
            <span class="nameOfSender">{{ sender }}</span>
            <span class="time">{{ creationTime }} Uhr</span>
          </div>
          <div class="messageContent">{{ content }}</div>
          <div *ngIf="thread && thread.length > 0" class="tread-info">
            <span (click)="openThread()">{{ thread.length }} Antworten</span>
            <p>{{ getLastReplyTime() }}</p>
          </div>
          <div class="reactions" *ngIf="reactions?.length > 0">
            <div class="reaction" *ngFor="let emoji of reactions">
              <div>{{ emoji.native }}</div>
              <div *ngIf="emoji.counter">
                {{ emoji.counter }}
                <div *ngIf="emoji.userIDs">{{ getReactionsPeople(emoji) }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>